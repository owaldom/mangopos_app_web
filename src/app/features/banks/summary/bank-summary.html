<div class="summary-container p-4">
    <div class="header mb-4">
        <h1>Resumen Bancario</h1>
        <p class="text-muted">Vista general de disponibilidad de fondos</p>
    </div>

    <div *ngIf="loading" class="loading-overlay">
        <mat-spinner diameter="50"></mat-spinner>
    </div>

    <div *ngIf="!loading && summaryData" class="dashboard-grid">
        <!-- Totals Cards -->
        <div class="totals-row">
            <mat-card class="total-card ves">
                <mat-card-content>
                    <div class="card-icon">
                        <mat-icon>account_balance</mat-icon>
                    </div>
                    <div class="card-info">
                        <span class="label">Total Bolívares (VES)</span>
                        <h2 class="value">{{ formatCurrency(getCurrencyTotal('VES'), 'VES') }}</h2>
                        <span class="sub-label">{{ getAccountCount('VES') }} cuentas activas</span>
                    </div>
                </mat-card-content>
            </mat-card>

            <mat-card class="total-card usd">
                <mat-card-content>
                    <div class="card-icon">
                        <mat-icon>attach_money</mat-icon>
                    </div>
                    <div class="card-info">
                        <span class="label">Total Dólares (USD)</span>
                        <h2 class="value">{{ formatCurrency(getCurrencyTotal('USD'), 'USD') }}</h2>
                        <span class="sub-label">{{ getAccountCount('USD') }} cuentas activas</span>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>

        <!-- Distribution List -->
        <div class="distribution-section mt-4">
            <mat-card>
                <mat-card-header>
                    <mat-card-title>Distribución por Entidad</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <div class="entity-list">
                        <div *ngFor="let item of summaryData.distribution" class="entity-item">
                            <div class="entity-info">
                                <span class="entity-name">{{ item.entity_name }}</span>
                                <span class="entity-currency">{{ item.currency }}</span>
                            </div>
                            <span class="entity-balance">{{ formatCurrency(item.total_balance, item.currency) }}</span>
                        </div>
                    </div>
                    <div *ngIf="summaryData.distribution.length === 0" class="empty-state">
                        No hay saldos registrados.
                    </div>
                </mat-card-content>
            </mat-card>
        </div>
    </div>
</div>